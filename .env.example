# Fichier global d'exemple des variables d'environnement
# Copiez les sections pertinentes dans .env.backend et .env.mobile selon vos besoins.
# Chaque variable est expliquée ci-dessous.

# --- Backend / API NestJS ---
DATABASE_URL="postgresql://postgres:postgres@postgres:5432/app?schema=public"
# URL de connexion PostgreSQL (user:postgres, mdp:postgres, host:postgres (service Docker), port:5432, base:app, schema:public)

REDIS_URL="redis://redis:6379"
# URL de connexion Redis (utilisé pour du cache, des jobs, etc.)

JWT_SECRET="dev-jwt-secret"
# Secret utilisé pour signer les tokens JWT (mettre une valeur longue, aléatoire en prod). 
# Doit correspondre à celui utilisé par l'API pour vérifier les JWT.

STRIPE_API_KEY="sk_test_yourStripeSecretKey"
# Clé API secrète Stripe (commence par sk_test_... en mode test). Permet au Stripe CLI de se connecter 
# à votre compte Stripe et au backend d'appeler l'API Stripe si besoin.

STRIPE_WEBHOOK_SECRET=""
# Secret de signature des webhooks Stripe (commence par whsec_...). Laissez vide initialement.
# -> Après avoir lancé le Stripe CLI, copiez ici le secret affiché ("whsec_xxx") pour sécuriser la vérification des webhooks dans l'API.

SUMSUB_APP_TOKEN="sb_app_xxxxxxxx"
SUMSUB_SECRET_KEY="sb_test_xxxxxxxx"
# Identifiants API pour Sum&Substance (SumSub) en mode sandbox. APP_TOKEN et SECRET_KEY sont fournis par SumSub.
# Ces valeurs sont utilisées par l'API backend pour communiquer avec l'API SumSub (vérification d'identité).
# L'URL de callback de SumSub devra pointer vers votre API publique (via ngrok en dev).

MINIO_ROOT_USER="minioadmin"
MINIO_ROOT_PASSWORD="minioadmin"
# Identifiants admin par défaut pour MinIO (laisser les valeurs par défaut en dev).
# Utilisés par le conteneur MinIO. Vous les utiliserez pour vous connecter à l'UI MinIO sur localhost:9001.

FCM_SERVER_KEY=""
# Clé serveur Firebase Cloud Messaging (si l'appli envoie des notifications push via FCM).
# A obtenir depuis Firebase console (projet paramétré). Laisser vide si non utilisé pour l'instant.

TWILIO_ACCOUNT_SID=""
TWILIO_AUTH_TOKEN=""
TWILIO_FROM_NUMBER=""
# Identifiants Twilio (SID de compte, token auth, et numéro d'envoi) pour envoi de SMS/appels. 
# A obtenir depuis la console Twilio si utilisé. Laisser vide si non utilisé.

APP_BASE_URL="https://example.com"
# URL de base de l'application cliente (par ex, domaine du site web front, si applicable).
# Peut servir pour générer des liens absolus (ex: liens dans des emails). 
# Pour une app mobile sans web, vous pouvez mettre l'URL marketing ou laisser https://example.com en placeholder.

WEBHOOK_BASE_URL=""
# URL publique de callback vers votre API, si nécessaire pour configurer des webhooks externes.
# En dev, ce sera l'URL ngrok fournie dynamiquement (à mettre à jour à chaque session).
# Par ex, WEBHOOK_BASE_URL="https://abcd-1234.eu.ngrok.io"
# Utilisez-la pour enregistrer les webhooks (Stripe, SumSub) dans leurs dashboards respectifs.

LOCAL_IP="192.168.1.100"
# IP locale de votre machine de dev sur le réseau (LAN). Utilisée pour que l'app mobile puisse accéder à l'API 
# quand on est en mode LAN. Par ex, sur Android Emulator on pourrait utiliser 10.0.2.2 (alias de localhost),
# sur un vrai téléphone utilisez l'IP de votre PC. 
# Vous pouvez changer cette valeur ou l'utiliser dans API_URL mobile.

# --- Mobile / Application Expo ---
API_URL="http://192.168.1.100:3000"
# URL de base de l'API utilisée par l'application mobile.
# En dev, si vous exécutez sur un émulateur ou un téléphone sur le même WiFi, 
# utilisez http://<LOCAL_IP>:3000 (car depuis le mobile, "localhost" pointerait vers l'app elle-même).
# Si vous utilisez le tunnel Expo ou ngrok, vous pouvez mettre l'URL fournie (https://xxxx.ngrok.io).
# Assurez-vous simplement que l'app peut atteindre l'API via cette URL.

NGROK_AUTHTOKEN=""
# Token d'authentification Ngrok (optionnel). Si vous avez un compte Ngrok, mettez votre authtoken ici.
# Cela permet d'avoir une URL stable et d'éviter les limitations de la version gratuite.
# Sinon, laissez vide et Ngrok fonctionnera en mode anonyme avec une URL aléatoire.
